---
title: java的内部类和静态内部类(嵌套类)
tags: [面试知识]
categories: [SpringBoot]
---

##  内部类
* 可以将一个类的定义放在另一个类的定义内部,这就是内部类；
* 嵌套类(内部类)是其封闭类(外部类)的成员。

### 特点
1. 非静态内部类里不能拥有静态变量或方法,因为内部类只是外部类的一个成员;<font color='red'>从某种意义上来说不是一个完整的类</font>
2. 不能使用new获取内部类对象,只能通过实例化外部类后再实例化内部类：new outerClass().new innerClass()
3. 由于内部类是外部类的成员，因此可以使用外部类的private等成员属性

## 静态内部类
* 再一个普通类里面，给内部类加上static关键字的修饰；
* 与类方法和变量一样，静态嵌套类与其外部类相关联。与静态类方法一样，静态嵌套类不能直接引用其封闭类(外部类)中定义的实例变量或方法：它只能通过对象引用来使用它们。（就和两个普通不同的类之间的使用）非静态嵌套类(内部类)可以访问封闭类(外部类)的其他成员，即使非静态嵌套类(内部类)???被声明为私有的也是如此。静态嵌套类无权访问封闭类的其他成员(包括静态？？)为一体的一个部件OuterClass，

### 特点
1. 静态内部类里能拥有静态变量或方法;<font color='red'>从某种意义上来说是一个完整独立的类</font>
2. 可以直接使用new获取内部对象,或者直接使用内部类获取静态变量:innerClass.xxx
3. 由于内部类是外部类的成员，因此可以使用外部类的private等成员属性
   
## 内部类3种作用
* 这是一种对仅在一个地方使用的类进行逻辑分组的方法：如果一个类仅对另一个类有用，那么将其嵌入该类并将两者保持在一起是合乎逻辑的。嵌套此类“帮助程序类”可使它们的程序包更加简化。 
* 它增加了封装：考虑两个顶级类A和B，其中B需要访问A的成员，否则将对其进行声明private。通过将类B隐藏在类A中，可以将A的成员声明为私有，而B可以访问它们。另外，B本身可以对外界隐藏。 
* 这可能会导致代码更具可读性和可维护性：在顶级类中嵌套小类会使代码更靠近使用位置。

### 注意事项 
* 序列化强烈建议不要对内部类（包括 本地和 匿名类）进行序列化。当Java编译器编译某些构造（例如内部类）时，它会创建综合构造。 
* 这些是类，方法，字段以及其他在源代码中没有相应构造的构造。合成构造使Java编译器无需更改JVM就可以实现新的Java语言功能。但是，合成构造在不同的Java编译器实现中可能有所不同，这意味着.class文件在不同的实现中也可能有所不同。因此，如果序列化一个内部类，然后使用其他JRE实现对其进行反序列化，则可能会遇到兼容性问题。 


## 内部类和静态修饰符static
1）首先，用内部类是因为内部类与所在外部类有一定的关系，往往只有该外部类调用此内部类。所以没有必要专门用一个Java文件存放这个类。
2）静态都是用来修饰类的内部成员的。比如静态方法，静态成员变量，静态常量。它唯一的作用就是随着类的加载（而不是随着对象的产生）而产生，以致可以用类名+静态成员名直接获得





